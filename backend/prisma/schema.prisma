// Prisma Schema for AI Meeting Assistant
// Database: PostgreSQL

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// 会话模型 (B1007) - 用于管理会议会话的基本信息和状态
model Session {
  id          String   @id @default(uuid())
  title       String
  description String?
  status      SessionStatus @default(CREATED)
  startTime   DateTime @default(now())
  endTime     DateTime?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("sessions")
}

// 会话状态枚举
enum SessionStatus {
  CREATED    // 已创建
  IN_PROGRESS // 进行中
  PAUSED     // 已暂停
  ENDED      // 已结束
  ARCHIVED   // 已存档
}

// 应用配置（用于存储可动态更新的环境配置）
model AppConfig {
  id        String   @id @default(uuid())
  key       String   @unique
  value     String   @db.Text
  remark    String?  @db.Text
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("app_configs")
}
